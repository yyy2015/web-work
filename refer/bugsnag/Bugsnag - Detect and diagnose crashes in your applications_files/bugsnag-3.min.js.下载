!function(a,b){function c(a,b){return a&&b&&a.type===b.type&&a.name===b.name&&m(a.metaData,b.metaData)}function d(a){try{if("function"!=typeof a)return a;if(!a.bugsnag){var b=i();a.bugsnag=function(){if(G=b,!J){var c=a.apply(this,arguments);return G=null,c}try{return a.apply(this,arguments)}catch(d){throw x("autoNotify",!0)&&(I.notifyException(d,null,null,"error"),E()),d}finally{G=null}},a.bugsnag.bugsnag=a.bugsnag}return a.bugsnag}catch(c){return a}}function e(){if(Q){var b=function(a){if(z("autoBreadcrumbsClicks")){var b,c;try{b=n(a.target),c=o(a.target)}catch(d){b="[hidden]",c="[hidden]",l("Cross domain error when tracking click event. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors")}I.leaveBreadcrumb({type:"user",name:"UI click",metaData:{targetText:b,targetSelector:c}})}};a.addEventListener("click",b,!0)}}function f(){function b(a,b){z("autoBreadcrumbsConsole")&&I.leaveBreadcrumb({type:"log",name:"Console output",metaData:{severity:a,message:Array.prototype.slice.call(b).join(", ")}})}if("undefined"!=typeof a.console){var c=console.log,d=console.warn,e=console.error;I.enableAutoBreadcrumbsConsole=function(){I.autoBreadcrumbsConsole=!0,k(console,"log",function(){b("log",arguments)}),k(console,"warn",function(){b("warn",arguments)}),k(console,"error",function(){b("error",arguments)})},I.disableAutoBreadcrumbsConsole=function(){I.autoBreadcrumbsConsole=!1,console.log=c,console.warn=d,console.error=e},z("autoBreadcrumbsConsole")&&I.enableAutoBreadcrumbsConsole()}}function g(){function b(a){return a.split("#")[1]||""}function c(a){var c=a.oldURL,d=a.newURL,e={};return c&&d?(e.from=b(c),e.to=b(d)):e.to=location.hash,{type:"navigation",name:"Hash changed",metaData:e}}function d(){return{type:"navigation",name:"Navigated back"}}function e(){return{type:"navigation",name:"Page hidden"}}function f(){return{type:"navigation",name:"Page shown"}}function g(){return{type:"navigation",name:"Page loaded"}}function h(){return{type:"navigation",name:"DOMContentLoaded"}}function i(a,b,c,d){var e=location.pathname+location.search+location.hash;return{type:"navigation",name:"History "+a,metaData:{from:e,to:d||e,prevState:history.state,nextState:b}}}function j(a,b,c){return i("pushState",a,b,c)}function l(a,b,c){return i("replaceState",a,b,c)}function m(a){return function(){z("autoBreadcrumbsNavigation")&&I.leaveBreadcrumb(a.apply(null,arguments))}}if(Q&&a.history&&a.history.state&&a.history.pushState&&a.history.pushState.bind){var n=history.pushState,o=history.replaceState;I.enableAutoBreadcrumbsNavigation=function(){I.autoBreadcrumbsNavigation=!0,k(history,"pushState",m(j)),k(history,"replaceState",m(l))},I.disableAutoBreadcrumbsNavigation=function(){I.autoBreadcrumbsNavigation=!1,history.pushState=n,history.replaceState=o},a.addEventListener("hashchange",m(c),!0),a.addEventListener("popstate",m(d),!0),a.addEventListener("pagehide",m(e),!0),a.addEventListener("pageshow",m(f),!0),a.addEventListener("load",m(g),!0),a.addEventListener("DOMContentLoaded",m(h),!0),z("autoBreadcrumbsNavigation")&&I.enableAutoBreadcrumbsNavigation()}}function h(){R=!1}function i(){var a=document.currentScript||G;if(!a&&R){var b=document.scripts||document.getElementsByTagName("script");a=b[b.length-1]}return a}function j(a){var b=i();b&&(a.script={src:b.src,content:x("inlineScript",!0)?b.innerHTML:""})}function k(a,b,c){var d=a[b];a[b]=function(){c.apply(this,arguments),"function"==typeof d&&d.apply(this,arguments)}}function l(b){var c=x("disableLog"),d=a.console;void 0===d||void 0===d.log||c||d.log("[Bugsnag] "+b)}function m(a,b){return r(a)===r(b)}function n(a){var b=a.textContent||a.innerText||"";return("submit"===a.type||"button"===a.type)&&(b=a.value),b=b.replace(/^\s+|\s+$/g,""),p(b,140)}function o(a){var b=[a.tagName];if(a.id&&b.push("#"+a.id),a.className&&a.className.length){var c="."+a.className.split(" ").join(".");b.push(c)}var d=b.join("");if(!document.querySelectorAll||!Array.prototype.indexOf)return d;try{if(1===document.querySelectorAll(d).length)return d}catch(e){return d}if(a.parentNode.childNodes.length>1){var f=Array.prototype.indexOf.call(a.parentNode.childNodes,a)+1;d=d+":nth-child("+f+")"}return 1===document.querySelectorAll(d).length?d:a.parentNode?o(a.parentNode)+" > "+d:d}function p(a,b){var c="(...)";return a&&a.length>b?a.slice(0,b-c.length)+c:a}function q(a,b){if("object"==typeof a){var c={};return t(a,function(a,d){null!=a&&void 0!==a&&(c[d]=q(a,b))}),c}return"string"==typeof a?p(a,b):a&&Array===a.constructor?s(a,function(a){return q(a,b)}):a}function r(b,c,d){var e=x("maxDepth",P);if(d>=e)return encodeURIComponent(c)+"=[RECURSIVE]";d=d+1||1;try{if(a.Node&&b instanceof a.Node)return encodeURIComponent(c)+"="+encodeURIComponent(D(b));var f=[];for(var g in b)if(b.hasOwnProperty(g)&&null!=g&&null!=b[g]){var h=c?c+"["+g+"]":g,i=b[g];f.push("object"==typeof i?r(i,h,d):encodeURIComponent(h)+"="+encodeURIComponent(i))}return f.sort().join("&")}catch(j){return encodeURIComponent(c)+"="+encodeURIComponent(""+j)}}function s(a,b){if("undefined"==typeof b)return a;var c=[];return t(a,c.push),c}function t(a,b){if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&b(a[c],c,a);else for(var d=0;d<a.length;d++)b(a[d],d,a)}function u(a,b,c){if(null==b)return a;if(c>=x("maxDepth",P))return"[RECURSIVE]";a=a||{};for(var d in b)if(b.hasOwnProperty(d))try{a[d]=b[d].constructor===Object?u(a[d],b[d],c+1||1):b[d]}catch(e){a[d]=b[d]}return a}function v(a,b){a+="?"+r(b)+"&ct=img&cb="+(new Date).getTime();var c=x("notifyHandler");if("xhr"===c){var d=new XMLHttpRequest;d.open("GET",a,!0),d.send()}else{var e=new Image;e.src=a}}function w(a){var b={},c=/^data\-([\w\-]+)$/;if(a)for(var d=a.attributes,e=0;e<d.length;e++){var f=d[e];if(c.test(f.nodeName)){var g=f.nodeName.match(c)[1];b[g]=f.value||f.nodeValue}}return b}function x(a,b){S=S||w(Z);var c=void 0!==I[a]?I[a]:S[a.toLowerCase()];return"false"===c&&(c=!1),void 0!==c?c:b}function y(a){return a&&a.match(T)?!0:(l("Invalid API key '"+a+"'"),!1)}function z(a){var b=x("autoBreadcrumbs",!0);return x(a,b)}function A(b,c){var d=x("apiKey");if(y(d)&&O){O-=1;var e=x("releaseStage","production"),f=x("notifyReleaseStages");if(f){for(var g=!1,h=0;h<f.length;h++)if(e===f[h]){g=!0;break}if(!g)return}var i=[b.name,b.message,b.stacktrace].join("|");if(i!==H){H=i;var j={device:{time:(new Date).getTime()}},k={notifierVersion:X,apiKey:d,projectRoot:x("projectRoot")||a.location.protocol+"//"+a.location.host,context:x("context")||a.location.pathname,user:x("user"),metaData:u(u(j,x("metaData")),c),releaseStage:e,appVersion:x("appVersion"),url:a.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:b.severity,name:b.name,message:b.message,stacktrace:b.stacktrace,file:b.file,lineNumber:b.lineNumber,columnNumber:b.columnNumber,breadcrumbs:L,payloadVersion:"3"},m=I.beforeNotify;if("function"==typeof m){var n=m(k,k.metaData);if(n===!1)return}return 0===k.lineNumber&&/Script error\.?/.test(k.message)?l("Ignoring cross-domain or eval script error. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors"):void v(x("endpoint")||W,k)}}}function B(){var a,b,c=10,d="[anonymous]";try{throw new Error("")}catch(e){a="<generated>\n",b=C(e)}if(!b){a="<generated-ie>\n";var f=[];try{for(var g=arguments.callee.caller.caller;g&&f.length<c;){var h=U.test(g.toString())?RegExp.$1||d:d;f.push(h),g=g.caller}}catch(i){l(i)}b=f.join("\n")}return a+b}function C(a){return a.stack||a.backtrace||a.stacktrace}function D(a){if(a){var b=a.attributes;if(b){for(var c="<"+a.nodeName.toLowerCase(),d=0;d<b.length;d++)b[d].value&&"null"!==b[d].value.toString()&&(c+=" "+b[d].name+'="'+b[d].value+'"');return c+">"}return a.nodeName}}function E(){K+=1,a.setTimeout(function(){K-=1})}function F(a,b,c){var d=a[b],e=c(d);a[b]=e}var G,H,I={},J=!0,K=0,L=[],M="BugsnagNotify",N=20,O=10,P=5;I.noConflict=function(){return a.Bugsnag=b,"undefined"==typeof b&&delete a.Bugsnag,I},I.refresh=function(){O=10},I.notifyException=function(a,b,c,d){if(!a){var e="Bugsnag.notifyException() was called with no arguments";return l(e),void I.notify(M,e)}return"string"==typeof a?(l("Bugsnag.notifyException() was called with a string. Expected instance of Error. To send a custom message instantiate a new Error or use Bugsnag.notify('<string>'). see https://docs.bugsnag.com/platforms/browsers/#reporting-handled-exceptions"),void I.notify.apply(null,arguments)):(b&&"string"!=typeof b&&(c=b,b=void 0),c||(c={}),j(c),void A({name:b||a.name,message:a.message||a.description,stacktrace:C(a)||B(),file:a.fileName||a.sourceURL,lineNumber:a.lineNumber||a.line,columnNumber:a.columnNumber?a.columnNumber+1:void 0,severity:d||"warning"},c))},I.notify=function(b,c,d,e){b||(b=M,c="Bugsnag.notify() was called with no arguments",l(c)),A({name:b,message:c,stacktrace:B(),file:a.location.toString(),lineNumber:1,severity:e||"warning"},d)},I.leaveBreadcrumb=function(a,b){var d="manual",e={type:d,name:"Manual",timestamp:(new Date).getTime()};switch(typeof a){case"object":e=u(e,a);break;case"string":b&&"object"==typeof b?e=u(e,{name:a,metaData:b}):e.metaData={message:a};break;default:return void l("expecting 1st argument to leaveBreadcrumb to be a 'string' or 'object', got "+typeof a)}for(var f=[d,"error","log","navigation","process","request","state","user"],g=!1,h=0;h<f.length;h++)if(f[h]===e.type){g=!0;break}g||(l("Converted invalid breadcrumb type '"+e.type+"' to '"+d+"'"),e.type=d);var i=L.slice(-1)[0];c(e,i)?(i.count=i.count||1,i.count++):(e.name=p(e.name,32),L.push(q(e,140)),L.length>N&&(L=L.slice(-N)))};var Q="undefined"!=typeof a.addEventListener;I.enableAutoBreadcrumbsConsole=function(){},I.disableAutoBreadcrumbsConsole=function(){},I.enableAutoBreadcrumbsNavigation=function(){},I.disableAutoBreadcrumbsNavigation=function(){},I.enableAutoBreadcrumbsErrors=function(){I.autoBreadcrumbsErrors=!0},I.disableAutoBreadcrumbsErrors=function(){I.autoBreadcrumbsErrors=!1},I.enableAutoBreadcrumbsClicks=function(){I.autoBreadcrumbsClicks=!0},I.disableAutoBreadcrumbsClicks=function(){I.autoBreadcrumbsClicks=!1},I.enableAutoBreadcrumbs=function(){I.enableAutoBreadcrumbsClicks(),I.enableAutoBreadcrumbsConsole(),I.enableAutoBreadcrumbsErrors(),I.enableAutoBreadcrumbsNavigation()},I.disableAutoBreadcrumbs=function(){I.disableAutoBreadcrumbsClicks(),I.disableAutoBreadcrumbsConsole(),I.disableAutoBreadcrumbsErrors(),I.disableAutoBreadcrumbsNavigation()};var R="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!0),a.addEventListener("load",h,!0)):a.attachEvent("onload",h);var S,T=/^[0-9a-f]{32}$/i,U=/function\s*([\w\-$]+)?\s*\(/i,V="https://notify.bugsnag.com/",W=V+"js",X="3.0.6",Y=document.getElementsByTagName("script"),Z=Y[Y.length-1];if(a.atob){if(a.ErrorEvent)try{0===new a.ErrorEvent("test").colno&&(J=!1)}catch($){}}else J=!1;if(x("autoNotify",!0)){F(a,"onerror",function(b){return function(c,d,e,f,g){var h=x("autoNotify",!0),i={};if(!f&&a.event&&(f=a.event.errorCharacter),j(i),G=null,h&&!K){var k=g&&g.name||"window.onerror";A({name:k,message:c,file:d,lineNumber:e,columnNumber:f,stacktrace:g&&C(g)||B(),severity:"error"},i),z("autoBreadcrumbsErrors")&&I.leaveBreadcrumb({type:"error",name:k,metaData:{severity:"error",file:d,message:c,line:e}})}b&&b(c,d,e,f,g)}});var _=function(a){return function(b,c){if("function"==typeof b){b=d(b);var e=Array.prototype.slice.call(arguments,2);return a(function(){b.apply(this,e)},c)}return a(b,c)}};F(a,"setTimeout",_),F(a,"setInterval",_),a.requestAnimationFrame&&F(a,"requestAnimationFrame",function(a){return function(b){return a(d(b))}}),a.setImmediate&&F(a,"setImmediate",function(a){return function(){var b=Array.prototype.slice.call(arguments);return b[0]=d(b[0]),a.apply(this,b)}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(b){var c=a[b]&&a[b].prototype;c&&c.hasOwnProperty&&c.hasOwnProperty("addEventListener")&&(F(c,"addEventListener",function(a){return function(b,c,e,f){try{c&&c.handleEvent&&(c.handleEvent=d(c.handleEvent,{eventHandler:!0}))}catch(g){l(g)}return a.call(this,b,d(c,{eventHandler:!0}),e,f)}}),F(c,"removeEventListener",function(a){return function(b,c,e,f){return a.call(this,b,c,e,f),a.call(this,b,d(c),e,f)}}))})}e(),f(),g(),x("autoBreadcrumbs",!0)&&I.leaveBreadcrumb({type:"navigation",name:"Bugsnag Loaded"}),a.Bugsnag=I,"function"==typeof define&&define.amd?define([],function(){return I}):"object"==typeof module&&"object"==typeof module.exports&&(module.exports=I)}(window,window.Bugsnag);